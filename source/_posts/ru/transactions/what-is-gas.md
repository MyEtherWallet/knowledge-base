---
title: "Что такое газ?"
date: 2018-06-01 00:07:00
tags:
  - газ
categories:
  - 
    - transactions
primary_category: transactions
primary_category_display_name: "Транзакции"
alias:
  - gas/what-is-gas-ethereum.html
---

# __Что такое газ?__
###### Время прочтения: {% read_time title "Что такое газ?" %} мин.
***

<img src="/images/posts/transactions/tx_pool_infographic.png" width="80%" />



## __Введение__

Блокчейн Ethereum — это сеть. Эфир (ETH) — это топливо для этой сети. Когда вы отправляете токены, взаимодействуете с контрактом, отправляете ETH или ERC20-токены или же совершаете другие действия в блокчейне, то вы должны заплатить за это вычисление. Этот платеж выражается в газе, а газ всегда оплачивается в ETH.

Вы платите за вычисления независимо от того, успешно ли была завершена ваша транзакция или нет. Даже если она не «пройдет», майнеры должны проверить и выполнить вашу транзакцию, что требует вычислительной мощности. Вы должны заплатить за эти вычисления — так же, как вы заплатили бы за успешную транзакцию.

Вы можете посмотреть сбор за транзакцию (лимит газа * цена газа) в ETH и USD, когда вы выполните поиск своей транзакции на Etherscan.io. Это не сбор, который получает MyEtherWallet или любой другой поставщик таких услуг. Этот сбор выплачивается майнерам за майнинг транзакций, проверку и добавление их в блоки и защиту блокчейна.



## __Обзор__
Когда вы слышите термин «газ», то человек говорит об одном из двух:

* Лимит газа
* Цена газа

Общая стоимость транзакции («сбор за транзакцию») — это лимит газа * цена газа.

Лимит газа можно представить в виде количестве литров / галлонов / единиц топлива, которое может вместить бензобак автомобиля.

Цену газа можно представить в виде стоимости этого литра / галлона / единицы топлива.

* Для автомобиля это `2,50 доллара` (цена) за галлон (единица).
* Для Ethereum это `20 GWEI` (цена) за газ (единицу).

Допустим, вы хотите заполнить свой бак вместимостью 10 галлонов. Для этого потребуется 10 галлонов по `2,50 доллара` каждый. Это будет стоить `25 долларов`.

Соответственно, лимита газа в размере `​​21000` означает, что нужно заполнить `21000` единиц газа. Если каждая единица стоит `20 GWEI`, то общая сумма составит `0,00042`.

Следовательно, общий сбор за транзакцию в этом примере будет равен `0,00042 ETH`.

Отправка токенов обычно требует лимита газа в размере `50000–100000`, поэтому общая плата за транзакцию увеличивается до `0,001–0,002 ETH`.

Вы можете использовать наш инструмент для расчета GWEI <-> WEI <-> USD [здесь](https://www.myetherwallet.com/convert-units) — это может быть полезно, когда вы хотите узнать комиссию за транзакцию в ETH, а не в GWEI.



## __Лимит газа__
Лимит газ называется так, потому что это максимальное количество единиц газа, которое вы готовы потратить на транзакцию. Это позволяет избежать ситуаций, когда где-то в контракте возникает ошибка, и в итоге вы тратите `1 ETH`, затем `10 ETH`, а потом `1000 ETH` и идете по кругу, но никуда не приходите.

Однако число необходимых для транзакции единиц газа уже определено тем, сколько кода выполняется в блокчейне. Если вы не хотите столько тратить на газ, то снижение лимита газа вам особо не поможет. Вы должны включить достаточно газа для покрытия используемых вычислительных ресурсов, иначе ваша транзакция не пройдет из-за ошибки Out of Gas.

Неиспользованный газ никогда не покинет ваш кошелек. Поэтому если вы перейдете на MyEtherWallet, отправите `1 ETH` на наш адрес для пожертвований и укажите газовый лимит в размере `400000`, вы получите обратно `400000 - 21000* = 379000`. Однако если вы отправляли `1 ETH` на адрес контракта, и ваша транзакция не прошла (скажем, период создания токена уже истек), то вы используете все `400000` и ничего не получите обратно.

_*`21000` — это стандартный лимит газа для обычных транзакций._



## __Цена газа__
Если вы хотите потратить меньше средств на транзакцию, вы можете добиться этого, уменьшив оплату за единицу газа. Цена, которую вы платите за каждую единицу, повышает или понижает скорость добычи вашей транзакции.



## __В обычное время при цене в:__

* `40 GWEI` ваша транзакция почти всегда будет добавлена в следующий блок.
* `20 GWEI` ваша транзакция обычно будет добавлена в блокчейн в течение следующих нескольких блоков.
* `2 GWEI` ваша транзакция обычно будет добавлена в блокчейн в течение нескольких минут.



## __В периоды создания токенов эти цены скачут как бешеные из-за спроса и предложения:__

* `50 GWEI` — это максимальная цена газа, которую примут большинство контрактов в период создания токенов. Если цена будет выше, то ваша транзакция не пройдет.
    * _"Большинство"_ — это ключевое слово здесь. Проверьте период создания токена, в который вы хотите инвестировать, до того, как этот период начнется.
    * В таких случаях нужно будет указывать цену в `50 GWEI`.

* Если вы пытаетесь отправить транзакцию в течение периода создания токена (но не на само создание токена), у вас есть 2 варианта:
    * Подождите немного, пока не закончится период создания токена.
    * Указать цену газа выше `50 GWEI`.

Вы можете настроить цену на газ с помощью ползунка в нижней части MyEtherWallet.



## __Будет ли транзакция добыта быстрее, если повысить цену газа? Если цена газа низкая, означает ли это, что транзакция никогда не будет добыта?__
Сбор за транзакции получает майнер, который добудет ваш блок. Когда майнеры начинают добывают блок, они должны решить, какие транзакции включить в него. Они могут вообще не включать в него транзакции, или же включить в него случайно выбранные транзакции. Чтобы побудить майнеров включать транзакции в блоки, вам нужно установить настолько высокую «цену газа», чтобы они захотели включить вашу транзакцию (поскольку это полностью зависит от них).

У _большинства_ майнеров очень простая стратегия включения. Они включают полученные транзакции, отсортированные от самой высокой цены газа до самой низкой, до тех пор, пока либо блок не будет заполнен, либо они не дойдут до транзакции, чья цена газа ниже интересующей их суммы.

Вам нужно установить цену на газ достаточно высокой, чтобы майнер включил вашу транзакцию в блок. Если вы спешите, вы можете установить цену на газ еще выше, чтобы занять первое место в очереди.

Если вы не спешите, то вам нужно просто установить достаточно высокую цену, чтобы кто-нибудь в конечном итоге включил вашу транзакцию.



## __Зачем мне устанавливать низкую цену на газ?__
Потому что это дешевле и потому что с ростом цены ETH (по сравнению с долларом США) транзакция, которая раньше стоила полцента, будет стоить несколько центов.

А более дорогие транзакции, например, ставки на ENS-имя, теперь могут стоить доллар или даже больше! Вам, как пользователю, нужно попытаться отправить несрочные транзакции с более низкой ценой газа, так как чем больше транзакций с более низкой ценой газа, тем более вероятно, что майнеры снизят свои минимальные значения.



## __Нужно ли мне увеличить лимит газа для распродаж токенов?__
Вы должны указать такое значение, которое скажут вам владельцы распродажи токена. Если вы не знаете, то спросите их перед распродажей токена. Это гарантирует, что ваша транзакция не выдаст ошибку Out of Gas. Обычно лимита газ в размере `200000` бывает достаточно, но для некоторых может потребоваться увеличить его.

Увеличение значения до `1500000` или больше не увеличит вероятность того, что вы пройдете. Вы просто будете быстрее заполнять блоки и потеряете комиссию за транзакцию, если она не пройдет. Мы никогда не видели распродажу токенов, которая требовала бы лимита газа больше `800000`.



## __Так что при распродажах токенов мне нужно отправлять транзакции с огромной ценой газа, да?__
Не обязательно. Риск при увеличении цены газа заключается в том, что вы все равно можете не пройти, и при этом еще и заплатите сбор.

Топливо **не** будет возвращено вам, если вы выполните отправку со слишком низким лимитом топлива, слишком рано или слишком поздно в период создания токена.

Во-первых, посмотрите, указана ли на распродаже токена максимальная цена газа. Если указана, используйте эту цену газа. Максимальная цена газа в Status и Bancor была `50 GWEI`.

Если они разрешают отправлять транзакции с любой ценой газа, вы должны решить, сколько вы хотите инвестировать, и сколько вы готовы потратить на эту попытку. **_Вам необходимо предполагать, что в периоды создания токенов вы заплатите полную комиссию и ничего не получите взамен._** Возьмите лимит топлива (например, `200000`), умножьте его на цену топлива (например, `50 GWEI` или `0.00000005 ETH`), полученное число — это сумма, которую вы заплатите за попытку инвестиции.

До периода создания токенов BAT средняя цена газа для периодов создания токенов составляла `20 GWEI` (по умолчанию). Теперь это повсюду:

* `40 GWEI` * `200000` = `0.008 ETH` (или `$5.60 USD`).
* `70 GWEI` * `200000` = `0.014 ETH` (или `$9.80 USD`).
* `100 GWEI` * `200000` = `0.02 ETH` (или `$14.00 USD`).



## __Пример: смешные цены на газ со времени создания токенов BAT (цены в долларах США на момент транзакций)__
* `118 GWEI` * `200000` = `0.0236 ETH` (или `$6.13 USD`).
* `7590 GWEI` * `200000` = `1.518 ETH` (или `$394.68 USD`).
* `58000 GWEI` * `200000` = `11.6 ETH` (или `$3,016 USD`).



<img src="/images/posts/transactions/GasChartCrazy.jpg?raw=true" width="100%" />



Кто-то заплатил `$6000+` для отправки неудачно завершенной транзакции. Это неприятно.



## __Где я могу увидеть, что принимают майнеры?__
Начинать здесь, в [EthGasStation](http://ethgasstation.info/).

(На момент написания этого) Ниже `20 GWEI` почти все блоки заполнены, что означает, что если вы установите значение ниже этого, вам придется ждать в очереди со всеми остальными.

Отличный майнер, miningpoolhub, принимает цену `2 GWEI`, но их блоки всегда полные, и на них приходится `9%` майнинга, что означает около `1` в каждых `10` блоках (`~150 секунд`) будут принимать транзакции с ценой на газ `2 GWEI`. И когда это произойдет, он полон, так что вам, возможно, придется подождать нескольких из них.

[EthGasStation's Calculator](https://ethgasstation.info/calculatorTxV.php) позволит вам оценить, сколько времени пройдет до того, как ваша транзакция будет принята по определенной цене на газ.